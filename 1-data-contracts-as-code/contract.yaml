# This is a data contract for the 'user_signup' event.
# It uses the JSON Schema format to define the structure and rules for valid data.

description: "Defines the schema for a user signup event."
type: object

# Define all the properties (fields) of the event object.
properties:
  event_name:
    description: "The unique name of the event."
    type: string
    const: "user_signup" # The value MUST be this exact string.

  user_id:
    description: "The unique identifier for the user, must be a UUIDv4."
    type: string
    pattern: "^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$"

  email:
    description: "User's email address."
    type: string
    format: "email" # jsonschema can validate common formats.

  age:
    description: "User's age in years. Must be 18 or older."
    type: integer
    minimum: 18

  country_code:
    description: "ISO 3166-1 alpha-2 country code."
    type: string
    enum: ["US", "DE", "GB", "CA"] # Value must be one of these.

  timestamp:
    description: "ISO 8601 timestamp of when the event occurred."
    type: string
    format: "date-time"

# List of fields that are mandatory.
required:
  - event_name
  - user_id
  - email
  - age
  - country_code
  - timestamp

# Disallow any properties that are not explicitly defined in the contract.
additionalProperties: false